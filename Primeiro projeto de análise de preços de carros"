import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt

pd.options.display.float_format = '{:.2f}'.format

df_cars=pd.read_csv('Cars Datasets 2025.csv', encoding='latin-1')

df_cars.info()
df_cars.describe()
df_cars.isnull().sum()

df_cars['CC/Battery Capacity'] = df_cars['CC/Battery Capacity'].fillna('Não Informado')
df_cars.head()

# Clean and convert 'Cars Prices' to numeric
df_cars['Cars Prices'] = df_cars['Cars Prices'].astype(str).str.replace('[$,]', '', regex=True)
df_cars['Cars Prices'] = pd.to_numeric(df_cars['Cars Prices'], errors='coerce')

preço_medio_por_marca = df_cars.groupby('Company Names')['Cars Prices'].mean()
preço_medio_por_marca.fillna(preço_medio_por_marca.mean(), inplace=True)
display(preço_medio_por_marca)

# Moved lineplot code to after the 'Cars Prices' column is cleaned and converted to numeric
fig = sns.barplot(x=preço_medio_por_marca.values, y=preço_medio_por_marca.index)
plt.xticks(rotation=45)
plt.title('Preço Médio por Marca')
plt.show(fig)
